<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ“çš„ç”Ÿæ´»è®°å½• ğŸ¾</title>
    
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="https://cdn-icons-png.flaticon.com/512/1077/1077114.png">

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        :root { 
            --pixel-border: 2px solid #000; 
            --bg-color: #f4f1ea;
            --spring-bg: #fff0f3; --spring-accent: #ffb7c5;
            --summer-bg: #f0fff4; --summer-accent: #7eccad;
            --autumn-bg: #fff5eb; --autumn-accent: #e9967a;
            --winter-bg: #f0f8ff; --winter-accent: #add8e6;
        }
        
        /* âœ¨ æ¢å¤æœ€åˆå¹²å‡€çš„åƒç´ æ ¼å­èƒŒæ™¯ */
        body { 
            background-color: var(--bg-color); 
            background-image: radial-gradient(#d1c7b7 1px, transparent 1px);
            background-size: 20px 20px;
            font-family: 'Courier New', Courier, "PingFang SC", sans-serif; 
            margin: 0; padding: 20px; 
            display: flex; flex-direction: column; align-items: center; 
            min-height: 100vh; 
        }

        /* ğŸ“± å¯åŠ¨å¤§å… */
        .app-hall { display: none; width: 100%; max-width: 450px; padding-bottom: 50px; }
        .season-card { background: white; border: var(--pixel-border); padding: 18px; margin-bottom: 25px; box-shadow: 6px 6px 0px #000; position: relative; }
        .season-header { font-size: 20px; font-weight: bold; margin-bottom: 15px; display: flex; align-items: center; gap: 10px; border-bottom: 2px dashed #000; padding-bottom: 8px; }
        .month-grid { display: flex; gap: 12px; flex-wrap: wrap; }
        .month-btn { background: #fff; border: var(--pixel-border); padding: 12px 20px; cursor: pointer; font-weight: bold; font-size: 18px; box-shadow: 3px 3px 0px #000; }
        .month-btn:active { transform: translate(2px, 2px); box-shadow: none; }

        /* ğŸ“¸ è¯¦æƒ…é¡µ */
        .detail-page { display: none; width: 100%; max-width: 500px; }
        .nav-bar { width: 100%; display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        #music-container { width: 100%; margin-bottom: 20px; min-height: 152px; display: flex; align-items: center; justify-content: center; background: rgba(0,0,0,0.03); border-radius: 12px; }
        .photo-list { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 15px; padding-bottom: 100px; }
        .polaroid { background: #fffdf5; border: var(--pixel-border); padding: 10px 10px 20px 10px; position: relative; box-shadow: 4px 4px 10px rgba(0,0,0,0.1); display: flex; flex-direction: column; }
        .polaroid img { width: 100%; aspect-ratio: 1/1; object-fit: cover; border: var(--pixel-border); }
        .delete-btn { position: absolute; top: -8px; right: -8px; width: 26px; height: 26px; background: #ff4444; color: white; border: 2px solid #000; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; font-weight: bold; z-index: 10; box-shadow: 2px 2px 0px #000; }

        /* âœï¸ å‘å¸ƒé¢æ¿ */
        #upload-panel { display: none; background: white; border: var(--pixel-border); padding: 25px; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 2000; width: 85%; max-width: 350px; box-shadow: 10px 10px 0px #000; }
        input, textarea { width: 100%; margin-bottom: 15px; padding: 12px; border: 1px solid #ccc; box-sizing: border-box; font-family: inherit; }
        
        .emoji-selector { display: flex; justify-content: space-between; margin-bottom: 15px; font-size: 24px; background: #f9f9f9; padding: 10px; border: 1px dashed #ccc; }
        .emoji-item { cursor: pointer; transition: 0.2s; }

        .floating-add { position: fixed; bottom: 30px; right: 30px; width: 65px; height: 65px; background: #1a1a1a; color: #ffcc00; border-radius: 50%; border: var(--pixel-border); display: flex; align-items: center; justify-content: center; font-size: 30px; cursor: pointer; z-index: 1000; box-shadow: 4px 4px 0px #000; }
    </style>
</head>
<body>

    <div id="app-hall" class="app-hall">
        <h1 style="text-align:center; font-size:26px; margin: 20px 0 40px 0;">ğŸ“çš„ç”Ÿæ´»è®°å½•</h1>
        <div class="season-card" style="border-top: 8px solid var(--spring-accent);">
            <div class="season-header">ğŸŒ¸ æ˜¥å­£ Spring</div>
            <div class="month-grid">
                <button class="month-btn" onclick="goToMonth('03')">03</button>
                <button class="month-btn" onclick="goToMonth('04')">04</button>
                <button class="month-btn" onclick="goToMonth('05')">05</button>
            </div>
        </div>
        <div class="season-card" style="border-top: 8px solid var(--summer-accent);">
            <div class="season-header">ğŸŒ¿ å¤å­£ Summer</div>
            <div class="month-grid">
                <button class="month-btn" onclick="goToMonth('06')">06</button>
                <button class="month-btn" onclick="goToMonth('07')">07</button>
                <button class="month-btn" onclick="goToMonth('08')">08</button>
            </div>
        </div>
        <div class="season-card" style="border-top: 8px solid var(--autumn-accent);">
            <div class="season-header">ğŸ‚ ç§‹å­£ Autumn</div>
            <div class="month-grid">
                <button class="month-btn" onclick="goToMonth('09')">09</button>
                <button class="month-btn" onclick="goToMonth('10')">10</button>
                <button class="month-btn" onclick="goToMonth('11')">11</button>
            </div>
        </div>
        <div class="season-card" style="border-top: 8px solid var(--winter-accent);">
            <div class="season-header">â„ï¸ å†¬å­£ Winter</div>
            <div class="month-grid">
                <button class="month-btn" onclick="goToMonth('12')">12</button>
                <button class="month-btn" onclick="goToMonth('01')">01</button>
                <button class="month-btn" onclick="goToMonth('02')">02</button>
            </div>
        </div>
    </div>

    <div id="detail-page" class="detail-page">
        <div class="nav-bar">
            <h2 id="page-title" style="margin:0;">2026.02</h2>
            <button onclick="location.href='index.html'" style="background:#000; color:#fff; border:none; padding:8px 15px; cursor:pointer; font
